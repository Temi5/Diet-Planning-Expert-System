{% extends 'base.html' %}

{% block content %}
<div class="max-w-3xl mx-auto p-4 bg-white shadow rounded-lg">
    <form method="POST" class="space-y-4">
        {{ form.hidden_tag() }}

        <div>
            {{ form.age.label(class_="block font-medium") }}
            {{ form.age(class_="w-full border border-gray-300 rounded px-3 py-2") }}
        </div>

        <div>
            {{ form.weight.label(class_="block font-medium") }}
            {{ form.weight(class_="w-full border border-gray-300 rounded px-3 py-2") }}
        </div>

        <div>
            {{ form.height.label(class_="block font-medium") }}
            {{ form.height(class_="w-full border border-gray-300 rounded px-3 py-2") }}
        </div>

        <div>
            {{ form.goal.label(class_="block font-medium") }}
            {{ form.goal(class_="w-full border border-gray-300 rounded px-3 py-2") }}
        </div>

        <div>
            {{ form.restriction.label(class_="block font-medium") }}
            {{ form.restriction(class_="w-full border border-gray-300 rounded px-3 py-2") }}
        </div>

        <div>
            {{ form.submit(class_="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700") }}
        </div>
    </form>

    {% if plan %}
    <h2 class="mt-6 text-xl font-bold">Your Weekly Meal Plan</h2>
    <ul class="mt-4 space-y-2">
        {% for meal in plan %}
        <li class="bg-gray-50 p-3 rounded shadow-sm">
            <strong>{{ meal["meal"] }}</strong>: {{ meal["items"] | join(', ') }} â€” {{ meal["calories"] }} kcal
        </li>
        {% endfor %}
    </ul>
    {% endif %}
</div>
{% endblock %}
